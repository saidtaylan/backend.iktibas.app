# =================================================================
# Supabase Production Environment Configuration
# =================================================================
# Bu dosyayı production ortamınıza göre düzenleyin ve .env olarak kopyalayın

############################################
# Temel Domain ve URL Konfigürasyonu
############################################
DOMAIN_NAME=iktibas.app
SUPABASE_PUBLIC_URL=https://studio.iktibas.app
API_EXTERNAL_URL=https://api.iktibas.app
SITE_URL=https://iktibas.app

############################################
# Güvenlik - Bu değerleri değiştirin!
############################################
# JWT Secret - güçlü bir gizli anahtar oluşturun
JWT_SECRET=HFc2vAyyOuyhfS4XPNwBukAeQi4WLsBVO0hv5+pfH9oKp0vl5wWdVfrofc+n06aOWP6iXMOy8TVlRMCJdLFYAg==

# Service Role Key - güçlü bir anahtar oluşturun  
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxd3F5a2F6bmltcGdwbnJzbXF0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.E_Lilm6_nuCvLQc4fbFADAc44F2kjn8xcB_BKdkoZl0

# Anonymous Key - güçlü bir anahtar oluşturun
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJxd3F5a2F6bmltcGdwbnJzbXF0Iiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.Eq5jRTzB7IzKOhSl1nfeGVTgj0r4PtFSpkAD5z2uDvo

# JWT süre sonu (saniye)
JWT_EXPIRY=3600

############################################
# Database Konfigürasyonu
############################################
POSTGRES_HOST=db
POSTGRES_USER=supabase_admin
POSTGRES_PORT=5432
POSTGRES_DB_ROOT=postgres
POSTGRES_DB=_supabase
POSTGRES_PASSWORD=2bba92d0d7516e4b6732413c61b5f404fdb6c742386941daca8add2dd8095d01

############################################
# Dashboard ve Stüdyo
############################################
STUDIO_DEFAULT_ORGANIZATION="iktibas"
STUDIO_DEFAULT_PROJECT="Production"
DASHBOARD_USERNAME=iktibas
DASHBOARD_PASSWORD=IktibaSAdmin2025!

# Studio Auth ve Features
STUDIO_LOAD_BALANCER_URL=http://kong:8000
NEXT_PUBLIC_ENABLE_LOGS=true
NEXT_ANALYTICS_BACKEND_PROVIDER=postgres

############################################
# Kong API Gateway
############################################
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443

############################################
# Auth Konfigürasyonu
############################################
DISABLE_SIGNUP=false
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=false
ENABLE_ANONYMOUS_USERS=true
ENABLE_PHONE_SIGNUP=false
ENABLE_PHONE_AUTOCONFIRM=false
ADDITIONAL_REDIRECT_URLS=""

# OAuth Providers - Google Sign In için gerekli
GOTRUE_EXTERNAL_GOOGLE_ENABLED=true
GOTRUE_EXTERNAL_GOOGLE_CLIENT_ID=your-google-client-id
GOTRUE_EXTERNAL_GOOGLE_SECRET=your-google-client-secret
GOTRUE_EXTERNAL_GOOGLE_REDIRECT_URI=https://your-domain.com/auth/v1/callback

# Auth Hook'ları için
GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_ENABLED=false
GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_URI=""
GOTRUE_HOOK_MFA_VERIFICATION_ATTEMPT_ENABLED=false
GOTRUE_HOOK_PASSWORD_VERIFICATION_ATTEMPT_ENABLED=false

############################################
# SMTP Mail Konfigürasyonu (Internal Server)
############################################
# Admin bildirimleri için
SMTP_ADMIN_EMAIL=admin@iktibas.app
# Namecheap SMTP sunucusu
SMTP_HOST=mail.privateemail.com
SMTP_PORT=587
# Namecheap mail hesabın
SMTP_USER=info@iktibas.app
SMTP_PASS=mail-hesabinin-sifresi
# Gönderen bilgisi
SMTP_SENDER_NAME="iktibas"
############################################

# Mail URL paths
MAILER_URLPATHS_INVITE="/auth/v1/verify"
MAILER_URLPATHS_CONFIRMATION="/auth/v1/verify"
MAILER_URLPATHS_RECOVERY="/auth/v1/verify"
MAILER_URLPATHS_EMAIL_CHANGE="/auth/v1/verify"

MAILER_TEMPLATES_RECOVERY=./templates/recovery.html
MAILER_TEMPLATES_CONFIRMATION=./templates/confirmation.html

############################################
# PostgREST
############################################
PGRST_DB_SCHEMAS=public,storage

############################################
# Storage
############################################
IMGPROXY_ENABLE_WEBP_DETECTION=true

############################################
# Analytics
############################################
LOGFLARE_PUBLIC_ACCESS_TOKEN=logflare-public-2025
LOGFLARE_PRIVATE_ACCESS_TOKEN=logflare-private-2025

############################################
# OpenAI (Opsiyonel)
############################################
OPENAI_API_KEY=

############################################
# Functions (Edge Functions)
############################################
FUNCTIONS_VERIFY_JWT=false

# Edge Functions için default environment variables
SUPABASE_DB_URL=postgresql://postgres:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
SUPABASE_URL=http://kong:8000
SUPABASE_ANON_KEY=${ANON_KEY}
SUPABASE_SERVICE_ROLE_KEY=${SERVICE_ROLE_KEY}

# Edge Functions işletim sistemi ortam değişkenleri
DENO_TLS_CA_STORE=system

############################################
# Secrets (Bu değerleri güçlü yapalım)
############################################
POSTGRES_ENC_KEY=VDX4ud90DMex4KgSBvTkITSs2KfPYPKnqceDJ0PiI8Q+HqXzfYhRHFp4GKN7T3w4OFGDRgTk1kpGhulDz4LGtg==
SECRET_KEY_BASE=VDX4ud90DMex4KgSBvTkITSs2KfPYPKnqceDJ0PiI8Q+HqXzfYhRHFp4GKN7T3w4OFGDRgTk1kpGhulDz4LGtg==
VAULT_ENC_KEY=your-super-secret-encryption-key-with-at-least-32-characters

############################################
# Pooler/Supavisor Konfigürasyonu
############################################
POOLER_TENANT_ID=supavisor-tenant
POOLER_DEFAULT_POOL_SIZE=15
POOLER_MAX_CLIENT_CONN=200
POOLER_DB_POOL_SIZE=10
POOLER_PROXY_PORT_TRANSACTION=6543

############################################
# Docker ve System
############################################
DOCKER_SOCKET_LOCATION=/var/run/docker.sock

############################################
# Backup Konfigürasyonu
############################################
BACKUP_RETENTION_DAYS=7

############################################
# Redis Cache
############################################
REDIS_PASSWORD=RedisSecure2024!

############################################
# API Keys ve Tokens (Studio için gerekli)
############################################
STUDIO_PG_META_URL=http://meta:8080
AUTH_JWT_SECRET=${JWT_SECRET}
LOGFLARE_API_KEY=${LOGFLARE_PRIVATE_ACCESS_TOKEN}
LOGFLARE_URL=http://analytics:4000

############################################
# Public Environment Variables (Frontend'e gönderilecek)
############################################
NEXT_PUBLIC_SUPABASE_URL=${SUPABASE_PUBLIC_URL}
NEXT_PUBLIC_SUPABASE_ANON_KEY=${ANON_KEY}
